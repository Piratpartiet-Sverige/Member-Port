{% extends "../base.html" %}
{% block head %}
<script src="{{ static_url('js/ag-grid-community.min.noStyle.js') }}"></script>
<link rel="stylesheet" href="{{ static_url('css/ag-grid.css') }}">
<link rel="stylesheet" href="{{ static_url('css/ag-theme-alpine.css') }}">
{% end %}
{% block content %}
<div class="container">
    <h1 class="title">FÃ¶reningar</h1>
    <div id="organizations" style="width: 100%; height: 80vh;" class="ag-theme-alpine"></div>
    <div class="field is-grouped">
</div>

{% end %}
{% block scripts %}
<script type="text/javascript" charset="utf-8">
    // specify the columns
    var columnDefs = [
        { headerName: "Namn", field: "name" },
        { headerName: "Beskrivning", field: "description" }
    ]

    // specify the data
    var rowData = [
        {% for organization in organizations %}
        {
            name: "{{ organization.name }}",
            description: "{{ organization.description }}",
        }
        {% end %}
    ];

    // let the grid know which columns and what data to use
    var gridOptions = {
        columnDefs: columnDefs,
        rowData: rowData
    };

    // lookup the container we want the Grid to use
    var eGridDiv = document.querySelector('#organizations');

    // create the grid passing in the div to use together with the columns & data we want to use
    new agGrid.Grid(eGridDiv, gridOptions)
</script>
{% end %}